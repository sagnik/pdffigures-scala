<?xml version="1.0" encoding="UTF-8"?>
<html>
    <head>
        <style type="text/css">table {border-collapse: collapse;}td, th
            {border: 1px solid grey; padding: 2px 4px;}</style>
    </head>
    <body>
        <h2>Page 1</h2>
        <p>LookingBeyondText:ExtractingFigures,TablesandCaptionsfromComputerSciencePapers</p>
        <p/>
        <p/>
        <p/>
        <p/>
        <p>Identifyingandextractingfiguresandtablesalongwiththeircaptionsfromscholarlyarticlesisimportantbothasawayofprovidingtoolsforarticlesummarization,andaspartoflargersystemsthatseektogaindeeper,semanticunderstand-ingofthesearticles.Whilemany“off-the-shelf”toolsexistthatcanextractembeddedimagesfromthesedocuments,e.g.PDFBox,Poppler,etc.,thesetoolsareunabletoextractta-bles,captions,andfigurescomposedofvectorgraphics.Ourproposedapproachanalyzesthestructureofindividualpagesofadocumentbydetectingchunksofbodytext,andlocatestheareaswhereinfiguresortablescouldresidebyreason-ingabouttheemptyregionswithinthattext.Thismethodcanextractawidevarietyoffiguresbecauseitdoesnotmakestrongassumptionsabouttheformatofthefiguresembed-dedinthedocument,aslongastheycanbedifferentiatedfromthemainarticle’stext.Ouralgorithmalsodemonstratesacaption-to-figurematchingcomponentthatiseffectiveevenincaseswhereindividualcaptionsareadjacenttomultiplefigures.Ourcontributionalsoincludesmethodsforlever-agingparticularconsistencyandformattingassumptionstoidentifytitles,bodytextandcaptionswithineacharticle.Weintroduceanewdatasetof150computersciencepapersalongwithgroundtruthlabelsforthelocationsofthefigures,tablesandcaptionswithinthem.Ouralgorithmachieves96%pre-cisionat92%recallwhentestedagainstthisdataset,surpass-ingpreviousstateoftheart.Wereleaseourdataset,code,andevaluationscriptsonourprojectwebsiteforenablingfutureresearch.</p>
        <p/>
        <p/>
        <p>Miningknowledgefromdocumentsisacommonlypursuedgoal,buttheseeffortshaveprimarilybeenfocusedonun-derstandingtext.Textminingis,however,aninherentlylim-</p>
        <p>itedapproachsincefigures1oftencontainacrucialpartoftheinformationscholarlydocumentsconvey.Authorsfre-quentlyusefigurestocomparetheirworktopreviouswork,</p>
        <p>figuresarepowerfulsummarizationtools.Readerscanoftengetthegistofapaperbyglancingthroughthefigureswhichfrequentlycontainbothexperimentalresultsandexplanatorydiagramsofthepaper’smethod.Detectingtheassociatedcaptionofthefiguresalongwiththeirmentionsthroughouttherestofthetextisanimportantcomponentofthistask.Captionsandmentionshelpprovideuserswithexplanationsofthegraphicsfoundand,forsystemsthatseektominese-manticknowledgefromdocuments,captionsandmentionscanhelpupstreamcomponentsdeterminewhattheextractedfiguresrepresentandhowtheyshouldbeinterpretted.Extractingfiguresrequiresaddressingafewimportantchallenges.First,oursystemshouldbeambivalenttothecontentofthefiguresinquestion,whichmeansitshouldbeabletoextractfigureseveniftheyhaveheavytextualcom-ponents,orareentirelycomposedoftext.Thereforeoural-gorithmneedstobehighlyeffectiveatdecidingwhentextispartofafigureorpartofthebodytext.Second,weneedtoavoidextractingimagesthatarenotrelevant(suchaslogos,mathematicalsymbols,orlinesthatarepartofthepaper’sformat),andtogroupindividualgraphicalandtextualele-mentstogethersotheycanallbeassociatedasbeingpartofthesamefigure.Finally,weseektobothidentifycaptionsandcorrectlyassignfiguresandtablestothecorrectcap-tion.Neitherofthesetasksistrivialduetothewidevarietyofwayscaptionscanbeformattedandthefactthatindivid-ualcaptionscanbeadjacenttomultiplefiguresmakingitambiguouswhichfiguretheyarereferringto.Ourworkdemonstrateshowthesechallengescanbeover-comebytakingadvantageofpriorknowledgeofhowschol-arlydocumentsarelaidout.Weintroduceanumberofnoveltechniques,includingi)amethodofremovingfalsepositiveswhendetectingcaptionsbyleveragingaconsistencyas-sumption,ii)heuristicsthatareeffectiveatseparatingbodytextandimagetext,andiii)theinsightthatastrongsourceofsignalfordetectingfiguresisthelocationof‘negativespace’withinthebodytextofadocument.Unlikemostpre-viousworkinthisfield,oursystemisequallyeffectiveatbothtableandfiguredetection.Oursystem(pdffigures)takesasinputscholarlydocu-</p>
        <p>mentsinPDFform2.Itoutputs,foreachfigure,thebound-ingboxofthatfigure’scaptionandaboundingboxaround</p>
        <p>theregionofthepagethatcontainsallelementsthatcap-tionrefersto.Additionallyweexpectthecorrectidentifier</p>
        <p>toconveythequantitativeresultsoftheirexperiments,ortoprovidevisualaidstohelpreadersunderstandtheirmeth-ods.Forexample,inthecomputerscienceliteratureitisoftenthecasethatauthorsreporttheirfinalresultsinata-bleorlineplotthatcomparestheiralgorithm’sperformanceagainstabaselineorpreviouswork.Retrievingthiscrucialbitofinformationrequiresparsingtherelevantfigure,mak-ingpurelytextbasedapproachestounderstandingthecon-tentofsuchdocumentsinevitablyincomplete.Additionally,</p>
        <p>1Throughoutthispaperweusetheterm‘figures’torefertobothtables,figuresandtheirassociatedcaptions</p>
        <p>2WeassumethePDFformatasithasbecomethedefactostan-dardforscholarlyarticles</p>
        <h2>Page 2</h2>
        <p>ofthefiguretobereturned(forexample,“Table1”or“Fig-ure1”)sothatmentionsofthatfigurecanbeminedfromtherestofthetext.Previousworkonfigureextractionhasfo-cusedondocumentsfromthebiomedical(Lopezandothers2011),chemistry(Choudhuryandothers2013)orhighen-ergyphysics(PraczykandNogueras-Iso2013)literature.Inthisworkwestudytheproblemoffigureextractionforthedomainofcomputersciencepapers.Towardsthisendwereleaseanewdataset,annotatedwithgroundtruthboundingboxes,forthisdomain.</p>
        <p/>
        <p/>
        <p>Figure1:Ascholarlydocument(left,pagefrom(ChanandAiroldi2014)),andthesamedocumentwithbodytextmaskedwithfilledboxes,captionsmaskedwithemptyboxes,andtablesandfiguresremoved(right).Byexaminingtherightimageitiseasytoguesswhichregionsofthepageeachcaptionrefersto,evenwithoutknowingthetext,whatthecaptionssay,andanythingaboutthegraphicalelementsonthepage.</p>
        <p>Atahighlevel,PDFfilescanbeviewedasaseriesofopera-torswhichdrawindividualelementsofthedocument.Theseoperatorscanincludetextoperators,whichdrawcharac-tersatparticularcoordinateswithparticularfontsandstyles,vectorgraphicoperatorsthatdrawlinesorshapes,orimageoperatorsthatdrawembeddedimagefilesstoredinternallywithinthePDF.Withinadocument,afigurecaneitherbeencodedasanembeddedimage,oranumberofembeddedimagesarrangedside-by-side,orasacombinationofvectorgraphicsandtext,oramixofallthree.Inmorerecentcom-putersciencedocumentsmostplotsandflowchartsarecom-posedofvectorgraphics.Whilemany“off-the-shelf”toolsexistthatcanextractembeddedimagesfromPDFs,suchas</p>
        <p>PDFBox3orPoppler(Poppler2014),thesetoolsdonotex-tractvectorgraphicbasedimages.Additionally,suchtools</p>
        <p>leavetheproblemofcaptionassociationunsolvedandareliabletoextractunwantedimagessuchaslogosormathe-maticalsymbols.Imagesegmentationtoolssuchastheones</p>
        <p>foundinTesseract(Smith2007)orLeptonica4arealsoin-adequate.Suchtoolsfrequentlymisclassifyregionsofthedocumentthatcontainverytextheavyfiguresasbeingtext,ormisclassifybitsoftextasbeingimagesifthattextisnear</p>
        <p>assumptionthatfigures,whilepossiblycontainingtext,con-tainatleastsomenon-trivialgraphicalelementsto‘seed’clustersofelementsthatcomposefigures.Ourworkavoidsmakingthisassumptionandcanthushandleagreaterva-rietyoffigures,aswellasgeneralizeeasilytotables.Ourworkalsoaddressestheproblemsthecanarisewhencap-tionsareadjacenttomultiplefiguresormultiplefiguresareadjacenttoeachother.Extractingtableshasalsobeenaddressedasaseparatetaskofgreatinterestintheinformationextractioncommu-nity.Ourworkisnotdirectlycomparablesincethesys-tempresentedherelocatestablesbutdoesnotattempttoorganizetheirtextintocellsinordertofullyreconstructthem.Neverthelesslocatingtableswithindocumentsisanon-trivialpartofthisresearchproblem.Mostapproachesusecarefullybuiltheuristicsbasedondetectingcolumnsoftext,verticalandhorizontallines,orwhitespace.Asurveycanbefoundat(Zanibbi,Blostein,andCordy2004)orintheresultsofarecentcompetition(Khusro,Latif,andUl-lah2014).Ourworkshowsthattabledetectioncanbecom-pletedwithoutrelyingonhandcraftedtemplatesordetailedtabledetectionheuristicsbyexploitingmoregeneralas-sumptionsabouttheformatofthedocumentsbeingparsed.Anumberofsearchenginesforscholarlyarticleshavemadeattemptstointegratetableandfigureinformation.CiteSeerX(Wuandothers2014)extractsandindexesta-blesinordertoallowuserstosearchthem,butdoesnothandlefigures.TheYaleImageFinder(Xu,McCusker,andKrauthammer2008)allowsuserstosearchalargedatabaseoffigures,butdoesnotautomaticallyextractthesefiguresfromdocuments.</p>
        <p/>
        <p/>
        <p>graphicalelementsorcontainsmathematicalsymbols.Figureextractionhasbeenatopicofrecentresearchinter-est.In(Choudhuryandothers2013)captionswereextractedusingregularexpressionsfollowedbyclassificationusingfontandtextualfeatures.Webuilduponthisideabyad-ditionallyleveragingaconsistencyassumption,thatallfig-uresandtableswithinapaperwillbelabelledwiththesamestyle,topruneoutfalsepositives.TheirsystemalsoextractsfiguresbydetectingimagesembeddedinthePDF,howeveritdoesnothandlevectorgraphics.Workdoneby(Lopezandothers2011)identifiedcaptionsthroughregularexpres-sionfollowedbyclusteringtheresultingfigurementions.GraphicalelementswerethenclusteredbyparsingthePDFfilesandanalyzingtheindividualoperatorstofindfigures.Whiletheirapproachreached96%accuracyonarticlesfromthebiomedicaldomaintheirmethoddoesnothandlefigurescomposedofcombinationsofimageoperatorsandtextoper-ators,whichisprevalentinthedomainofcomputersciencepapers.Workby(PraczykandNogueras-Iso2013)similarlydetectsfiguresandcaptionsbymergingnearbygraphicalandtextualelementswhileheuristicallyfilteringoutirrele-vantelementsfoundinthedocument.Theirapproachissim-ilartooursinthatanattemptismadetoclassifytextasbeingbodytextoraspartofafiguretoallowtheextractionoftextheavyfigures.However,theiralgorithmrequiresmakingthe</p>
        <p/>
        <p/>
        <p>Ouralgorithmleveragesasimplebutimportantobservationthatifaregionofthepagedoesnotcontainbodytextandisadjacenttoacaption,itisverylikelytocontainthefigure</p>
        <p>http://pdfbox.apache.org/http://www.leptonica.com/</p>
        <h2>Page 3</h2>
        <p>orcolonandthenanumber.Thesephrasesarecollectedaspotentialstartsofcaptions.Thisfirstpasshashighrecall,butcanalsogeneratefalsepositives.Toremovefalseposi-tives,welookfortextualcuesincombinationwithasim-pleconsistencyassumption:weassumethatauthorshavelabelledtheirfiguresinaconsistentmannerasisrequiredbymostacademicvenues.Ifwedetectredundancyinthephrasesfound,forexampleifwefindmultiplephrasesre-ferringto‘Figure1’,weattempttoapplyanumberoffil-tersthatselectivelyremovephrasesuntilwehaveauniquephraseforeachfigurementioned.Filtersareonlyappliediftheywouldleaveatleastonementionleftforeachfig-urenumberfoundsofar.Wehavebeenabletoachievehighaccuracyusingonlyahandfuloffilters.Theseinclude:(I):Selectonlyphrasesthatcontainaperiod.(II):Selectonlyphrasesthatcontainasemicolon.(III):Selectonlyphrasesthathaveboldfont.(IV):Selectonlyphrasesthathaveitalicfont.(V):Selectonlyphrasesthatareofdifferentfontsizesthanthewordsthatfollowthem.(VI):Selectonlyphrasesthatbeginnewlines,asjudgedbyPoppler’stextdetectionsystem.</p>
        <p>beingreferredtobythatcaption.Figure1illustrateshoweffectivethisconceptcanbe;muchofthetimeahumanreadercanlocateregionscontainingfigureswithinapageofascholarlydocumentevenifallthatisknownistheloca-tionsofthecaptionsandbodytext.Thisobservationstemsfromourknowledgeofhowscholarlydocumentsaretypi-callyformatted.Authorspresentinformationinacontinuousflowacrossthedocumentandsodonotincludeextraneouselementsorunneededwhitespace.Thereforeregionsinthedocumentthatdonotcontainbodytextmustcontainsome-thingelseofimportance,almostcertainlyafigure.Apar-ticularmotivationforourapproachisthatfiguresinschol-arlydocumentsaretheleaststructuredelementsinthedocu-mentandthusthetrickiesttoparseeffectively.Graphicscanhavelargeamountsoftext,largeamountsofwhitespace,becomposedofmanyseparateelements,orotherwisecontaincontentthatishardtoanticipate.Tablescanbeformattedingrids,withonlyverticallines,withnolinesatall,orinmanyothervariations.Howevermostacademicvenueshavestrictguidelinesonhowbodytextandsectiontitlesshouldbeformattedwhichtendtofollowanarrowsetofconven-tions,suchasbeingleftalignedandbeingineitheraoneortwocolumnformat.Suchguidelinesmakepositivelyiden-tifyingbodytextamucheasiertask.Oncethebodytextisfound,theregionsofthedocumentcontainingfigurescanbedetectedwithoutmakinganyassumptionsastothena-tureofthosefiguresotherthanthattheydonotcontainanyelementsthatwereidentifiedasbodytext.Ourproposedalgorithmhasthreephases:</p>
        <p>Ourfilterscanbenoisy,forexampleselectingboldphrasescan,insomepapers,filteroutthetruecaptionsstartswhileleavingincorrectonesbehind.DetectingboldanditalicfontcanitselfbechallengingbecausesuchfontscanbeexpressedwithinaPDFinavarietyofways.Howeverwecanusuallydetectwhenafilterisnoisybynotingthatafilterwouldremoveallmentionsofaparticularfigure,inwhichcasethefilterisnotappliedandadifferentfiltercanbetriedtoremovethefalsepositives.Ingeneralwehavefoundourcaptionidentificationsystemtobehighlyaccu-rate,butoccasionallyourconsistencyassumptionisbrokenwhichcanleadtoerrors.</p>
        <p/>
        <p>1.Captionstartidentification.Thisstepinvolvesparsingthetextofthedocumenttofindwordslike‘Figure1:’or‘Ta-ble1.’thatindicatethestartofacaption,whiletakingstepstoavoidfalsepositives.Thescopeofthisphaseislimitedtoidentifyingthefirstwordofthecaption,nottheentirecaptionitself.</p>
        <p>2.Regionidentification.ThisinvolveschunkingthetextinthePDFintoblocks,thenidentifyingwhichblocksoftextarecaptions,bodytext,orpartofafigure.Thisstepalsoattemptstoidentifyregionscontaininggraphicalcompo-nents.Theoutputisanumberofboundingboxeslabelledasbodytext,imagetext,captiontext,orgraphicregion.</p>
        <p>Havingdetectedthecaptionstarts,thisphaseidentifiesre-gionsofthedocumentthatcontainbodytext,captiontext,figuretext,orgraphicalelements.Thefirststepinthisphaseisidentifyingblocksofcontinuoustext.TodothisweusethetextgroupingalgorithmmadeavailableinPoppler(Poppler2014)tofindlinesoftextwithineachpage.Individuallinesarethengroupedtogetherbydrawingtheboundingboxesofeachlineonabitmap,expandingtheseboxesbyslightmar-</p>
        <p/>
        <p/>
        <p>gins,andthenrunningaconnectedcomponentalgorithmgroupnearbylinestogether.</p>
        <p>3.Captionassignment.Thisphaseinvolvesassigning,foreachcaption,theregionofspacewithinthedocumentthatitrefersto,bymakinguseoftheregionsfoundinthepre-viousstep.</p>
        <p/>
        <p>Thisphaseofthealgorithmidentifieswordsthatmarkthebeginningofcaptionswithinthedocument.WeextracttextfromdocumentsusingPoppler(Poppler2014).Thisstepas-sumesthatthePDFsbeingusedasinputhavetheirbodytextandcaptionsencodedasPDFtextoperators,notaspartofembeddedimages.ThisassumptionisalmostalwaystrueformorerecentscholarlyPDFs,butexceptionsexistforsomeolderPDFs,suchasthosethatwerecreatedbyscanningpa-</p>
        <p>perdocuments5.Theextractedtextisscannedtofindwordsoftheform</p>
        <p/>
        <p>Havingidentifiedtextblocksweneedtodecideifthoseblocksarebodytext,captions,orpartofafigure.Weiden-tifycaptiontextbyfindingtextblocksthatcontainoneofthepreviouslyidentifiedcaptionstartsandlabelingthoseblocksascaptions.Wehavefounditusefultopostprocesstheseblocksbyfilteringouttextthatisabovethecaptionwordornotalignedwellwiththerestofthecaptiontext.Theremain-ingblocksareclassifiedasbodytextorimagetext.Toiden-tifybodytextwehavefoundanimportantcueisthepagemargins.Scholarlyarticlesalignbodytextdowntofractionsofaninchtotheleftpagemargin,whilefiguretextisoftenallowedtofloatfreefrompagemargins.Welocatemarginsbyparsingthetextlinesthroughouttheentiredocumentanddetectingplaceswheremanylinessharethesamestartingxcoordinate.Textblocksthatarenotalignedwiththemar-</p>
        <p>5UsinganOCRsystemmightallowustoputsuchdocumentsinthesamepipeline,albeitwithmorenoise,butisnotcurrently</p>
        <p/>
        <p/>
        <p/>
        <h2>Page 4</h2>
        <p>Figure2:Classifyingregionswithinascholarlydocument.Alltextinthedocument(firstpanel,pagefrom(Neyshaburandothers2013))islocatedandgroupedintoblocks(secondpanel).Nextthegraphicalcomponentsareisolatedandusedtodetermineregionsofthepagethatcontaingraphics(thirdpanel).Tobuildthefinaloutput(fourthpanel)thesetwoelementsareputtogetherandeachtextblockisclassifiedasbodytext(filledboxes),imagetext(boxoutlines),orcaption(boxoutlines).</p>
        <p>Figure3:Exampleofafigureandtablebeingdirectlyad-jacent(leftpanel,from(Liu,He,andChang2010)).Inthiscasetheproposedfigureregionsforeachcaptionwillbyidenticalandencompassboththeplotandtable(right,solidlines).Wehandlethiscasebydetectingthattheregionisdividedinthemiddlebyasectionofwhitespace,andthensplittingtheproposedfigureregionacrossthatwhitespace(dashedline).</p>
        <p>ginsarelabelledasfiguretext.Leftalignedblocksoftextthatareeithersmall,ortallandnarrow,arealsoclassifiedasfiguretextbecausetheyareusuallyaxislabelsorcolumnswithintablesthathappentobealignedtothemargins.Sec-tionheaders,titles,andpageheadersarehandledasspecialcases.Todetectpagesheaderswescanthedocumenttode-terminewhetherpagesareconsistentlyheadedbythesamephrase(forexample,arunningtitleofthepapermightstarteachpage)andifsolabelthosephrasesasbodytext.Asimi-larprocedureisusedtodetectifthepagesarenumberedand,ifso,classifythepagenumbersfoundasbodytext.Sectionheadersaredetectedbylookingfortextthatisbold,andei-thercolumncenteredoralignedtoamargin.Thisphasealsoidentifiesregionscontaininggraphicalel-ements.Tothisend,werenderthePDFusingacustomizedrendererthatignoresalltextcommands.Wethenfilteroutgraphicsthatarecontainedornearlycontainedbyabodytextregioninordertoremovelinesandsymbolsthatwereusedaspartofatextsection.Finallyweusetheboundingboxesoftheconnectedcomponentsoftheremainingele-mentstodenoteimageregions.Figure2showsthestepsthatmakeupthisentireprocess.</p>
        <p/>
        <p>boundingboxeithertotheleft,right,upordownasfaraspossiblewithoutrunningintothebodytextorthepagemar-gin.Theseregionsarethenfurtherexpandedintheorthog-onaldirections(forexample,boxeswouldbeexpandedtotheleftandrightiftheywerecreatedbyexpandingthecap-tion’sboundingboxupordown)asmuchaspossiblewith-outrunningintopagemarginsorbodytext.Weemployoneadditionalheuristic,intwocolumnpaperswedonotallowtheboxtocrossthecenterofthepageduringthesecondex-pansionstageunlessthecaptionitselfspansbothcolumns.Completingthisprocedureforeachpossibleexpansiondi-rectionresultsinfourproposedfigureregionsforeachcap-tion.</p>
        <p/>
        <p>Inthisfinalphaseweassigneachcaptiontoaregionofspacewithinthedocument.Ouralgorithmisbasedontheobser-vationthattheregionofspaceafigureoccupiesisalmostalwaysbothadjacenttoonesideofitscaptionandhasaboxlikeshape.Thisalgorithmhasthreeparts.Regionproposal,whichgenerates,foreachcaption,potentialregionsofthedocumentthatcaptioncouldreferto.Regionscoring,whichisafunctionthatgiveseachregionascorereflectinghowlikelyitisthattheregioncontainsafigure.Finallyregionselection,whichusestheproposedregionsandthescoringfunctiontoselectaproposedregionforeachcaption.Regionproposalisperformedbybuildingfourregionsadjacenttoeachcaptionbyfirstexpandingthatcaption’s</p>
        <h2>Page 5</h2>
        <p>Recall0.9150.5000.116</p>
        <p>Precision0.9570.6240.198</p>
        <p>F10.9360.5550.146</p>
        <p>OursPraczykandNogueras-Isopdfimages</p>
        <p/>
        <p>OursPraczykandNogueras-Iso</p>
        <p>Recall0.9270.363</p>
        <p>Precision0.9520.429</p>
        <p>F10.9390.393</p>
        <p/>
        <p>1.5%inouranalysis.Atroublesomecaseforourregionproposalmethodiswhenfiguresaredirectlyadjacenttoeachother,inwhichcaseitisdifficulttotellwhereonefigureendsandwheretheotheronebegins.ThisisshowninFigure3.Inthesecasesproposedregionsmightgetexpandedtoomuchandincludemultiplefigures.Tohandlethisproblem,duringtheregionselectionstage,ifwedetectproposedregionswouldoverlap,anattemptismadetosplittheconflictingregionbasedonareasofwhitespaceinsidetheoverlap.Wefoundthisincreasesourrecallbyabout2%.</p>
        <p/>
        <p/>
        <p>Figure4:Disambiguatingcaptiontoemptyspacepairing.Fromtheoriginaldocument(leftpanel,pagefrom(Azizandothers2011))textregionsandcaptionregionsarede-tected(shownasfilledandemptyboxesintherightpanel).Atthispointitisambiguouswhatspacetoassigntothemiddlecaption,labelledas‘B’,becauseconsideredinisola-tionthiscaptioncouldplausiblyrefertotheregionaboveortheregionbelowit.Howeverouralgorithmdetectsthatthelowercaption,captionC,onlyhasonelarge,emptyregionofspacenearbythatitcouldreferto.OnceitisknownthatthatspacehastobeassignedtocaptionCitbecomesclearcaptionBmustbereferringtotheregionaboveit.</p>
        <p>Wehaveassembledanewdatasetof150documentsfromthreepopularcomputerscienceconferences.Wegathered50papersfromNIPS2008-2013,50fromICML2009-2014,and50fromAAAI2009-2014byselecting10publishedpapersatrandomfromeachconferenceandyear.Annota-torswereaskedtomarkboundingregionsforeachfigure</p>
        <p>andcaptionusingLabelMe7.Foreachregionmarkedbyannotators,wefoundtheboundingboxthatcontainedallforegroundpixelswithinthatregion.Theseboundingboxeswerethenusedasgroundtruthlabels.Intotalweacquiredboundingboxesfor458figuresand190tables.Ourdatasetalongwiththeannotationscanbedownloadedatpdffig-ures.allenai.org.Wehopeournewdatasetandgroundtruthannotationswillprovideanavenueforresearcherstode-veloptheiralgorithmsandmakecomparisons.</p>
        <p/>
        <p/>
        <p>basedonhowlikelyitistocontainafigure.Ourscoringfunctionrejectsregionsthatcontainonlyemptypixels,oriftheyaretoosmall.Otherwiseregionsarescoredbasedontheirsize,plusabonusiftheycontainalargegraphicalregionandasmallerbonusiftheycontainasmallergraphi-calregionormanydifferentgraphicalregions.Thisheuristichelpsustoberobusttoerrorsintheprevioussteps.Forex-ample,ifacaptionhasalineplotaboveitandabulletedlistbelowit(thatwasclassifiedasimagetext),ourscoringfunctionwillfinditpreferabletoselectthelineplot’sregionoverthebulletedlist’sregionasthatcaption’sfigureregion.Howeverifnoimageregionsarefound,forexample,ifthecaptionreallyisaboutabulletedlist,thescoringfunctionwillthenallowcaptionstobeassignedtoregionsthatcon-tainnothingbuttext.</p>
        <p>Weassessourproposedalgorithmonourdatasetandcom-pareitsperformancetopreviousmethods.Weexpectthesystembeingevaluatedtoreturn,foreachfigureextracted,aboundingboxforboththefigureandit’scaptionaswellastheidentifierofthatfigure(e.g.,“Figure1”or“Table3”)andthepagenumberthatthefigureresideson.Figureswithidentifiersthatdidnotexistinthehandbuiltlabels,orwithincorrectpagenumbers,areconsideredincorrect.Otherwiseafigureisjudgedbycomparingtheboundingboxesreturnedagainstthegroundtruthusingtheoverlapscorecriterionfrom(Everinghamandothers2010).Boxesarescoredbasedontheareaofintersectionofthegroundtruthboundingboxandtheoutputboundingboxdividedbytheareaoftheunionbetweenthem.Iftheoverlapscoreexceeds0.80,wecon-sidertheoutputboxtobecorrect,otherwiseitismarkedasincorrect.Captionboxregionsarescoredusingthesame</p>
        <p/>
        <p/>
        <p>Regionselectiondetermineswhichoftheproposedre-gionstoselectforeachcaption.Anaiveapproachwouldbetoiteratethrougheachcaptionandselectitshighestscoringregion,howeverthiscanleadtoerrorsinthefaceofambigu-ities.ConsiderFigure4,wherecaptionsareadjacenttomul-tiplefiguresmakingitimpossibletojudgewhichregiontoassigntoeachcaptionwhenconsideredinisolation.Todealwithsuchambiguityweiterateoverallpossiblematchingsofacceptedfigureregionstocaptionsandselectthehigh-estscoringconfiguration.Inpracticethenumberofpossibleconfigurationsisalmostalwayverysmall(lessthan5)sincemostpageshaveonlyafewfiguresonthem,andeachfig-uretypicallyonlyhasafewproposedfigureregionsthatdonotgetrejectedbythescoringfunction.Useofthisstrategyforfigure-captionassignmentratherthaniterativelyassign-ingthehighestscoringproposaltoitscorrespondingcaptionincreasesourprecisionbyabout2.5%andrecallbyabout</p>
        <h2>Page 6</h2>
        <p>Thecontributionsofourworkincludeamethodofidenti-fyingcaptionsbyexploitingthefactthatcaptionsarecon-sistentlyformattedinscholarlydocuments,heuristicsthatareeffectiveatseparatingbodytextandimagetext,andtheinsightthatwecanidentifyfiguresusingthe‘negativespace’withinbodytextaswellthegraphicalelementswithinthePDF.Weadditionallyreleasedanoveldatasetofcom-putersciencepapersforfigureextractionalongwiththeirgroundtruthlabels.Forfuturework,thefigureassignmentalgorithmcouldbeimprovedbyusingamoresophisticatedscoringmethodorconsideringawiderdiversityofregionproposalsforeachcaption,whichcouldbeusedtopro-videresiliencetoerrorsintheprevioussteps.Finally,morecarefullyaccountingforgraphicalelements,possiblyinte-gratingthekindsofclusteringtechniquesthatwereusedby(PraczykandNogueras-Iso2013),mightprovideanav-enuetoimproveresults.</p>
        <p/>
        <p/>
        <p>WethankIsaacCowheyforannotatingourdataset.WewouldalsoliketothankOrenEtzioni,PeterClark,IsaacCowhey,andSamSkjonsbergfortheirhelpfulcommentsandreviews.</p>
        <p/>
        <p>Aziz,etal.2011.False-namemanipulationsinweightedvotinggames.JournalofArtificialIntelligenceResearch.</p>
        <p>Bird,etal.2008.Theaclanthologyreferencecorpus:Aref-erencedatasetforbibliographicresearchincomputationallin-guistics.InLREC.</p>
        <p>Chan,S.H.,andAiroldi,E.M.2014.Aconsistenthistogramestimatorforexchangeablegraphmodels.arXivpreprintarXiv:1402.1888.</p>
        <p>Choudhury,etal.2013.Figuremetadataextractionfromdigitaldocuments.InICDAR.</p>
        <p>Everingham,etal.2010.Thepascalvisualobjectclasses(VOC)challenge.InternationalJournalofComputerVision.</p>
        <p>Khusro,S.;Latif,A.;andUllah,I.2014.Onmethodsandtoolsoftabledetection,extractionandannotationinpdfdocuments.JournalofInformationScience.</p>
        <p>Liu,W.;He,J.;andChang,S.-F.2010.Largegraphconstruc-tionforscalablesemi-supervisedlearning.InICML.</p>
        <p>Lopez,etal.2011.Anautomaticsystemforextractingfiguresandcaptionsinbiomedicalpdfdocuments.InBIBM.</p>
        <p>Neyshabur,etal.2013.Thepowerofasymmetryinbinaryhashing.InNIPS.</p>
        <p>Poppler.2014.Poppler.http://poppler.freedesktop.org/.Ac-cessed:2014-09-24.</p>
        <p>criterion.Weconsideranextractiontobecorrectifboththecaptionandthefigureboundingboxesarecorrectaccordingtotheabovecriterion.Followingthissetupweevaluateoursystemandcomparetotheworkof(PraczykandNogueras-Iso2013).Theworkby(PraczykandNogueras-Iso2013)doesnotreturnfigureidentifierssoweusedregularexpres-siontoextractidentifiersbasedonthefirstwordofthecap-tiontext.Wealsoevaluatepdfimages(Poppler2014),apopulartoolforextractingembeddedimagesfromPDFs.Weranthistoolonourdatasetandfilteredouttheextractedimagesthatweresmallerthanasquareinch.Weevaluatetheresultsinthiscaseusingamuchmorelenientscoringcriterion.Wemarkanextractionascorrectifitssizeiswithin80%ofanan-notatedfigureregiononthecorrespondingpageandwrongotherwise.ResultsofourevaluationonfiguresandtablescanbefoundinTable1andTable2respectively.Theout-putsandevaluationofbothouralgorithmandthesystemby(PraczykandNogueras-Iso2013)areavailableonourprojectwebsite.Ouralgorithmobtainedaround96%precisionat92%re-callfortablesandfigures.Despitebeinglenientlyscored,pdfimagesperformedextremelypoorly.Itiscapableofget-tingcorrectresultsifafigureisencodedasasingleembed-dedimagewithinadocument,butthisissorareincomputersciencepapers,itwasunabletoevenget15%recall.Thealgorithmby(PraczykandNogueras-Iso2013),althoughachievinghighresultsonthedomainofhighenergyphysics(HEP),didnotgeneralizewelltothedomainofcomputersciencepapers,achievingmuchlowerrecallandprecision.Errorsfrom(PraczykandNogueras-Iso2013)areoftenduetomishandlingcaseswherefiguresareclosetogether,oral-lowingbodytexttobegroupedintofigureregions.Inpar-ticularforpapersfromICML,figureregionsoftenincludedbodytextfromtheoppositecolumn.Mistakesdetectingcap-tionswerealsoasignificantsourceoferror.Thisindicatessomeoftheheuristicsusedby(PraczykandNogueras-Iso2013)failedtogeneralizefromtheHEPdomaintocomputersciencepapers.Wealsoanalyzedthesourcesoferrorsofourapproach.Approximatelyahalfoftheerrorsproducedbyouralgo-rithmwerecausedbynon-standardformatting,suchas,non-standardcaptiontitles(e.g.,Using“Figures1and2”insteadof“Figure1:”and“Figure2:”),orusingsmallfontsforcap-tions,orPDFscontaininglargenumbersofextraneousoper-atorsthatweredetectedbythetextextractiontool(Poppler2014)butwerenotvisibleonthedocument.Theremaininghalfwerecausedbyvarioustextblockingerrors,misclassi-fyingblocksoftext,orbeingunabletosplitregionscontain-ingmultiplefigurescorrectly.Ouralgorithmtakeslessthantwosecondstoprocessa</p>
        <p>Praczyk,P.A.,andNogueras-Iso,J.2013.Automaticextractionoffiguresfromscientificpublicationsinhigh-energyphysics.InformationTechnologyandLibraries.</p>
        <p>paper8,andisthereforescalabletolargedatasets.Infact,wehaverunourmethodon21,000documentsfromtheACLcorpus(Birdandothers2008).Theresultsareavailableonourprojectwebsite.</p>
        <p>Smith,R.2007.Anoverviewofthetesseractocrengine.InICDAR.</p>
        <p/>
        <p/>
        <p/>
        <p>Xu,S.;McCusker,J.;andKrauthammer,M.2008.Yaleim-agefinder(YIF):anewsearchengineforretrievingbiomedicalimages.InBioinformatics.OxfordUnivPress.</p>
        <p>Inthispaper,wepresentedanovelapproach(pdffigures)forextractingfiguresandtablesfromcomputersciencepapers.</p>
        <p>Zanibbi,R.;Blostein,D.;andCordy,J.R.2004.Asurveyoftablerecognition.InICDAR.</p>
        <p>8OnasinglethreadonaMacintoshOSX10.9witha2.5GHzIntelcorei7.</p>
    </body>
</html>
